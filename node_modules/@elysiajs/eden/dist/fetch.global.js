"use strict";var Eden=(()=>{var p=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var E=(e,t)=>{for(var n in t)p(e,n,{get:t[n],enumerable:!0})},$=(e,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of x(t))!b.call(e,s)&&s!==n&&p(e,s,{get:()=>t[s],enumerable:!(a=m(t,s))||a.enumerable});return e};var S=e=>$(p({},"__esModule",{value:!0}),e);var N={};E(N,{edenFetch:()=>j});var l=class extends Error{constructor(n,a){super(a+"");this.status=n;this.value=a}};var y=e=>e.trim().length!==0&&!Number.isNaN(Number(e));var j=(e,t)=>(n,{query:a,params:s,body:u,...c}={})=>{s&&Object.entries(s).forEach(([r,i])=>{n=n.replace(`:${r}`,i)});let f=c.headers?.["Content-Type"];if(!f||f==="application/json")try{u=JSON.stringify(u)}catch{}let d=t?.fetcher||globalThis.fetch,g=a?`?${new URLSearchParams(a).toString()}`:"",h=()=>d(e+n+g,{...c,method:c.method?.toUpperCase()||"GET",headers:u?{"content-type":"application/json",...c.headers}:c.headers,body:u}).then(async r=>{let i;switch(r.headers.get("Content-Type")?.split(";")[0]){case"application/json":i=await r.json();break;default:i=await r.text().then(o=>y(o)?parseInt(o):o==="true"?!0:o==="false"?!1:o);break}return r.status>300?{data:null,status:r.status,headers:r.headers,retry:h,error:new l(r.status,i)}:{data:i,error:null,status:r.status,headers:r.headers,retry:h}});return h()};return S(N);})();
